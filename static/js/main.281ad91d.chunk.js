(this["webpackJsonpdrawing-pad"]=this["webpackJsonpdrawing-pad"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"Header_container__22Zsd",header:"Header_header__3HWXf",dropdown:"Header_dropdown__2iUwB"}},26:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(9),s=n.n(r),o=(n(26),n(2)),u=n(6),i=n(13),l=n.n(i),p=n(19),j=n(34),b=n(35),d=n(15),f=n(1),O=["className","children","isSelected"],h=function(e){var t=e.className,n=e.children,c=e.isSelected,a=Object(d.a)(e,O);return Object(f.jsx)("button",Object(o.a)(Object(o.a)({className:"icon-button ".concat(t," ").concat(c&&"icon-button--selected")},a),{},{children:n}))},v=n(36),m=function(e){var t=e.children,n=e.className;return Object(f.jsx)("div",{className:"dropdown ".concat(n),children:t})},x=function(e,t,n,c,a,r){return Object(f.jsxs)("div",{className:"dropdown-container",onMouseEnter:a,onMouseLeave:r,children:[e,Object(f.jsx)(v.a,{classNames:"fade",in:c,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(f.jsx)(m,{className:n,children:t})})]})},g=function(e){var t=Object(c.useRef)(null),n=Object(c.useState)(null),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var n,c=null===(n=t.current)||void 0===n?void 0:n.getContext("2d");c?(s(c),e&&e(c)):alert("Your browser doesn't support canvas, so You can't use are app :(")}),[e]),{ref:t,ctx:r}},y=n(7),_=n.n(y),N=function(e,t){e.lineCap="round",e.lineWidth=t.size,e.shadowBlur=t.blur,e.shadowColor=t.color,e.strokeStyle=t.color},w=function(e){var t=g((function(t){t.clearRect(0,0,150,150);var n=2*Math.PI;N(t,e),t.beginPath(),t.arc(112.5,75,37.5,0,n/2,!0),t.arc(37.5,75,37.5,0,n/2),t.stroke()})).ref;return Object(f.jsx)("canvas",{className:_.a.canvas,ref:t,width:150,height:150})},C=["className","label"],S=function(e){var t=e.className,n=e.label,c=Object(d.a)(e,C);return Object(f.jsxs)("div",{className:_.a["input-group"],children:[Object(f.jsx)("div",{className:_.a["input-label"],children:n}),Object(f.jsx)("input",Object(o.a)({className:"".concat(_.a.input," ").concat(t)},c))]})},E=function(e){var t=e.values,n=e.onChange,a=e.exclude,r=void 0===a?[]:a,s=Object(c.useState)(t.size),o=Object(u.a)(s,2),i=o[0],l=o[1],p=Object(c.useState)(t.blur),j=Object(u.a)(p,2),b=j[0],d=j[1],O=Object(c.useState)(t.color),h=Object(u.a)(O,2),v=h[0],m=h[1];return Object(c.useEffect)((function(){i===t.size&&b===t.blur&&v===t.color||n({size:i,blur:b,color:v})}),[i,b,v]),Object(f.jsxs)("div",{className:_.a.container,children:[Object(f.jsxs)("form",{className:_.a.form,children:[!r.includes("size")&&Object(f.jsx)(S,{label:"Size",type:"number",value:i,onChange:function(e){return l(+e.target.value)},min:1}),!r.includes("blur")&&Object(f.jsx)(S,{label:"Blur",type:"number",value:b,onChange:function(e){return d(+e.target.value)},min:0}),!r.includes("color")&&Object(f.jsx)(S,{label:"Color",value:v,onChange:function(e){return m(e.target.value)}})]}),Object(f.jsx)(w,{size:i,blur:b,color:v})]})},k=n(10),z=k.c,T="pencil",B="eraser",F="changeTool",L="pushPath",M="undo",R="redo",P=function(){var e=Object(k.b)(),t=z((function(e){return e.app.selectedTool})),n=z((function(e){return e.configs.eraser})),a=z((function(e){return e.configs.pencil})),r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],d=s[1],O=Object(c.useState)(!1),v=Object(u.a)(O,2),m=v[0],g=v[1],y=z((function(e){return e.app.paths.present})),_=z((function(e){return e.app.paths.future}));return Object(f.jsxs)("div",{className:l.a.container,children:[x(Object(f.jsx)(h,{onClick:function(){return e({type:F,payload:"eraser"})},isSelected:"eraser"===t,children:Object(f.jsx)(j.a,{})}),Object(f.jsx)(E,{values:Object(o.a)(Object(o.a)({},n),{},{color:"#fff"}),exclude:["color"],onChange:function(t){return e({type:B,payload:t})}}),l.a.dropdown,i,(function(){return d(!0)}),(function(){return d(!1)})),x(Object(f.jsx)(h,{onClick:function(){return e({type:F,payload:"pencil"})},isSelected:"pencil"===t,children:Object(f.jsx)(b.a,{})}),Object(f.jsx)(E,{values:a,onChange:function(t){return e({type:T,payload:t})}}),l.a.dropdown,m,(function(){return g(!0)}),(function(){return g(!1)})),Object(f.jsx)("h1",{className:"header-1 ".concat(l.a.header),children:"Drawing Pad"}),Object(f.jsx)(h,{onClick:function(){return e({type:M})},disabled:!y,children:Object(f.jsx)(p.b,{})}),Object(f.jsx)(h,{onClick:function(){return e({type:R})},disabled:0===_.length,children:Object(f.jsx)(p.a,{})})]})},H=n(8),D=function(e,t){N(e,t.configs),e.beginPath(),t.points.forEach((function(t){e.lineTo.apply(e,Object(H.a)(t))})),e.stroke()},J=function(e,t,n){var c=e.getBoundingClientRect();return[t-c.left,n-c.top]},W=function(){var e=g(),t=e.ref,n=e.ctx,a=z((function(e){return e.app.selectedTool})),r=z((function(e){return e.app.paths.past})),s=z((function(e){return e.app.paths.present})),i=Object(k.b)(),l=z((function(e){return e.configs[a]})),p=Object(c.useState)(null),j=Object(u.a)(p,2),b=j[0],d=j[1];return Object(c.useEffect)((function(){b&&D(n,b)}),[b]),Object(c.useEffect)((function(){n&&(n.clearRect(0,0,960,500),s?[].concat(Object(H.a)(r),[s]).forEach((function(e){return D(n,e)})):r.forEach((function(e){return D(n,e)})))}),[s,r]),Object(f.jsx)("canvas",{className:"canvas canvas--".concat(a),ref:t,width:960,height:500,onMouseDown:function(){var e=t.current;d({configs:l,points:[]});var n=function(t){d((function(n){return Object(o.a)(Object(o.a)({},n),{},{points:[].concat(Object(H.a)((null===n||void 0===n?void 0:n.points)||[]),[J(e,t.x,t.y)])})}))};e.addEventListener("mousemove",n),document.addEventListener("mouseup",(function(){var t;e.removeEventListener("mousemove",n),d((function(e){return t=e,null})),i({type:L,payload:t})}),{once:!0})}})};var I=function(){return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(P,{}),Object(f.jsx)(W,{})]})},U=n(12),Y="hsl(200, 20%, 20%)",K={pencil:{size:2,blur:1,color:"#fff"},eraser:{size:15,blur:5,color:Y}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return t.type===T?Object(o.a)(Object(o.a)({},e),{},{pencil:t.payload}):t.type===B?Object(o.a)(Object(o.a)({},e),{},{eraser:Object(o.a)(Object(o.a)({},t.payload),{},{color:Y})}):e},Z={selectedTool:"pencil",paths:{past:[],present:null,future:[]}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return t.type===F?Object(o.a)(Object(o.a)({},e),{},{selectedTool:t.payload}):t.type===L?e.paths.present?Object(o.a)(Object(o.a)({},e),{},{paths:{past:[].concat(Object(H.a)(e.paths.past),[e.paths.present]),present:t.payload,future:[]}}):Object(o.a)(Object(o.a)({},e),{},{paths:Object(o.a)(Object(o.a)({},e.paths),{},{present:t.payload,future:[]})}):t.type===M?0===e.paths.past.length?Object(o.a)(Object(o.a)({},e),{},{paths:Object(o.a)(Object(o.a)({},e.paths),{},{present:null,future:[e.paths.present].concat(Object(H.a)(e.paths.future))})}):Object(o.a)(Object(o.a)({},e),{},{paths:{past:e.paths.past.slice(0,-1),present:e.paths.past[e.paths.past.length-1],future:[e.paths.present].concat(Object(H.a)(e.paths.future))}}):t.type===R?e.paths.present?Object(o.a)(Object(o.a)({},e),{},{paths:{past:[].concat(Object(H.a)(e.paths.past),[e.paths.present]),present:e.paths.future[0],future:e.paths.future.slice(1)}}):Object(o.a)(Object(o.a)({},e),{},{paths:Object(o.a)(Object(o.a)({},e.paths),{},{present:e.paths.future[0],future:e.paths.future.slice(1)})}):e},A=n(20),G=Object(A.composeWithDevTools)({}),Q=Object(U.combineReducers)({configs:X,app:q}),V=Object(U.createStore)(Q,G(Object(U.applyMiddleware)()));s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(k.a,{store:V,children:Object(f.jsx)(I,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={container:"Form_container__2nz3T",form:"Form_form__1ylUj",canvas:"Form_canvas__kgrin","input-group":"Form_input-group__1BKrJ","input-label":"Form_input-label__4RLsl",input:"Form_input__m2L4O"}}},[[31,1,2]]]);
//# sourceMappingURL=main.281ad91d.chunk.js.map
(this["webpackJsonpdrawing-pad"]=this["webpackJsonpdrawing-pad"]||[]).push([[0],{13:function(e,t,n){e.exports={container:"Header_container__22Zsd",header:"Header_header__3HWXf",dropdown:"Header_dropdown__2iUwB"}},26:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),s=(n(26),n(2)),u=n(6),i=n(13),l=n.n(i),p=n(19),j=n(34),b=n(35),f=n(15),O=n(1),d=["className","children","isSelected"],h=function(e){var t=e.className,n=e.children,a=e.isSelected,c=Object(f.a)(e,d);return Object(O.jsx)("button",Object(s.a)(Object(s.a)({className:"icon-button ".concat(t," ").concat(a&&"icon-button--selected")},c),{},{children:n}))},g=n(36),m=function(e){var t=e.children,n=e.className;return Object(O.jsx)("div",{className:"dropdown ".concat(n),children:t})},v=function(e,t,n,a,c,r){return Object(O.jsxs)("div",{className:"dropdown-container",onMouseEnter:c,onMouseLeave:r,children:[e,Object(O.jsx)(g.a,{classNames:"fade",in:a,timeout:300,unmountOnExit:!0,mountOnEnter:!0,children:Object(O.jsx)(m,{className:n,children:t})})]})},x=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(null),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){var n,a=null===(n=t.current)||void 0===n?void 0:n.getContext("2d");a?(o(a),e&&e(a)):alert("Your browser doesn't support canvas, so You can't use are app :(")}),[e]),{ref:t,ctx:r}},y=n(8),S=n.n(y),N=function(e,t){e.lineCap="round",e.lineWidth=t.size,e.shadowBlur=t.blur,e.shadowColor=t.color,e.strokeStyle=t.color},_=function(e){var t=x((function(t){t.clearRect(0,0,150,150);var n=2*Math.PI;N(t,e),t.beginPath(),t.arc(112.5,75,37.5,0,n/2,!0),t.arc(37.5,75,37.5,0,n/2),t.stroke()})).ref;return Object(O.jsx)("canvas",{className:S.a.canvas,ref:t,width:150,height:150})},w=["className","label"],C=function(e){var t=e.className,n=e.label,a=Object(f.a)(e,w);return Object(O.jsxs)("div",{className:S.a["input-group"],children:[Object(O.jsx)("div",{className:S.a["input-label"],children:n}),Object(O.jsx)("input",Object(s.a)({className:"".concat(S.a.input," ").concat(t)},a))]})},E=function(e){var t=e.values,n=e.onChange,c=e.exclude,r=void 0===c?[]:c,o=Object(a.useState)(t.size),s=Object(u.a)(o,2),i=s[0],l=s[1],p=Object(a.useState)(t.blur),j=Object(u.a)(p,2),b=j[0],f=j[1],d=Object(a.useState)(t.color),h=Object(u.a)(d,2),g=h[0],m=h[1];return Object(a.useEffect)((function(){i===t.size&&b===t.blur&&g===t.color||n({size:i,blur:b,color:g})}),[i,b,g]),Object(O.jsxs)("div",{className:S.a.container,children:[Object(O.jsxs)("form",{className:S.a.form,children:[!r.includes("size")&&Object(O.jsx)(C,{label:"Size",type:"number",value:i,onChange:function(e){return l(+e.target.value)},min:1}),!r.includes("blur")&&Object(O.jsx)(C,{label:"Blur",type:"number",value:b,onChange:function(e){return f(+e.target.value)},min:0}),!r.includes("color")&&Object(O.jsx)(C,{label:"Color",value:g,onChange:function(e){return m(e.target.value)}})]}),Object(O.jsx)(_,{size:i,blur:b,color:g})]})},J=n(10),I=J.c,k="pencil",z="eraser",T="changeTool",B="pushPath",F="undo",L="redo",M=function(){var e=Object(J.b)(),t=I((function(e){return e.app.selectedTool})),n=I((function(e){return e.configs.eraser})),c=I((function(e){return e.configs.pencil})),r=Object(a.useState)(!1),o=Object(u.a)(r,2),i=o[0],f=o[1],d=Object(a.useState)(!1),g=Object(u.a)(d,2),m=g[0],x=g[1],y=I((function(e){return e.app.paths.past})),S=I((function(e){return e.app.paths.present})),N=I((function(e){return e.app.paths.future}));return Object(a.useEffect)((function(){localStorage.setItem("eraserConfigs",JSON.stringify(n)),localStorage.setItem("pencilConfigs",JSON.stringify(c))}),[n,c]),Object(a.useEffect)((function(){localStorage.setItem("past",JSON.stringify(y)),localStorage.setItem("present",JSON.stringify(S)),localStorage.setItem("future",JSON.stringify(N))}),[y,S,N]),Object(O.jsxs)("div",{className:l.a.container,children:[v(Object(O.jsx)(h,{onClick:function(){return e({type:T,payload:"eraser"})},isSelected:"eraser"===t,children:Object(O.jsx)(j.a,{})}),Object(O.jsx)(E,{values:Object(s.a)(Object(s.a)({},n),{},{color:"#fff"}),exclude:["color"],onChange:function(t){return e({type:z,payload:t})}}),l.a.dropdown,i,(function(){return f(!0)}),(function(){return f(!1)})),v(Object(O.jsx)(h,{onClick:function(){return e({type:T,payload:"pencil"})},isSelected:"pencil"===t,children:Object(O.jsx)(b.a,{})}),Object(O.jsx)(E,{values:c,onChange:function(t){return e({type:k,payload:t})}}),l.a.dropdown,m,(function(){return x(!0)}),(function(){return x(!1)})),Object(O.jsx)("h1",{className:"header-1 ".concat(l.a.header),children:"Drawing Pad"}),Object(O.jsx)(h,{onClick:function(){return e({type:F})},disabled:!S,children:Object(O.jsx)(p.b,{})}),Object(O.jsx)(h,{onClick:function(){return e({type:L})},disabled:0===N.length,children:Object(O.jsx)(p.a,{})})]})},R=n(7),P=function(e,t){N(e,t.configs),e.beginPath(),t.points.forEach((function(t){e.lineTo.apply(e,Object(R.a)(t))})),e.stroke()},H=function(e,t,n){var a=e.getBoundingClientRect();return[t-a.left,n-a.top]},D=function(){var e=x(),t=e.ref,n=e.ctx,c=I((function(e){return e.app.selectedTool})),r=I((function(e){return e.app.paths.past})),o=I((function(e){return e.app.paths.present})),i=Object(J.b)(),l=I((function(e){return e.configs[c]})),p=Object(a.useState)(null),j=Object(u.a)(p,2),b=j[0],f=j[1];return Object(a.useEffect)((function(){b&&P(n,b)}),[b]),Object(a.useEffect)((function(){n&&(n.clearRect(0,0,960,500),o?[].concat(Object(R.a)(r),[o]).forEach((function(e){return P(n,e)})):r.forEach((function(e){return P(n,e)})))}),[o,r]),Object(a.useEffect)((function(){n&&(o?[].concat(Object(R.a)(r),[o]).forEach((function(e){return P(n,e)})):r.forEach((function(e){return P(n,e)})))}),[n]),Object(O.jsx)("canvas",{className:"canvas canvas--".concat(c),ref:t,width:960,height:500,onMouseDown:function(){var e=t.current;f({configs:l,points:[]});var n=function(t){f((function(n){return Object(s.a)(Object(s.a)({},n),{},{points:[].concat(Object(R.a)((null===n||void 0===n?void 0:n.points)||[]),[H(e,t.x,t.y)])})}))};e.addEventListener("mousemove",n),document.addEventListener("mouseup",(function(){var t;e.removeEventListener("mousemove",n),f((function(e){return t=e,null})),i({type:B,payload:t})}),{once:!0})}})};var W=function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(M,{}),Object(O.jsx)(D,{})]})},U=n(12),Y="hsl(200, 20%, 20%)",K={pencil:JSON.parse(localStorage.getItem("pencilConfigs"))||{size:2,blur:1,color:"#fff"},eraser:JSON.parse(localStorage.getItem("eraserConfigs"))||{size:15,blur:5,color:Y}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return t.type===k?Object(s.a)(Object(s.a)({},e),{},{pencil:t.payload}):t.type===z?Object(s.a)(Object(s.a)({},e),{},{eraser:Object(s.a)(Object(s.a)({},t.payload),{},{color:Y})}):e},Z={selectedTool:"pencil",paths:{past:JSON.parse(localStorage.getItem("past"))||[],present:JSON.parse(localStorage.getItem("present"))||null,future:JSON.parse(localStorage.getItem("future"))||[]}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return t.type===T?Object(s.a)(Object(s.a)({},e),{},{selectedTool:t.payload}):t.type===B?e.paths.present?Object(s.a)(Object(s.a)({},e),{},{paths:{past:[].concat(Object(R.a)(e.paths.past),[e.paths.present]),present:t.payload,future:[]}}):Object(s.a)(Object(s.a)({},e),{},{paths:Object(s.a)(Object(s.a)({},e.paths),{},{present:t.payload,future:[]})}):t.type===F?0===e.paths.past.length?Object(s.a)(Object(s.a)({},e),{},{paths:Object(s.a)(Object(s.a)({},e.paths),{},{present:null,future:[e.paths.present].concat(Object(R.a)(e.paths.future))})}):Object(s.a)(Object(s.a)({},e),{},{paths:{past:e.paths.past.slice(0,-1),present:e.paths.past[e.paths.past.length-1],future:[e.paths.present].concat(Object(R.a)(e.paths.future))}}):t.type===L?e.paths.present?Object(s.a)(Object(s.a)({},e),{},{paths:{past:[].concat(Object(R.a)(e.paths.past),[e.paths.present]),present:e.paths.future[0],future:e.paths.future.slice(1)}}):Object(s.a)(Object(s.a)({},e),{},{paths:Object(s.a)(Object(s.a)({},e.paths),{},{present:e.paths.future[0],future:e.paths.future.slice(1)})}):e},A=n(20),G=Object(A.composeWithDevTools)({}),Q=Object(U.combineReducers)({configs:X,app:q}),V=Object(U.createStore)(Q,G(Object(U.applyMiddleware)()));o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(J.a,{store:V,children:Object(O.jsx)(W,{})})}),document.getElementById("root"))},8:function(e,t,n){e.exports={container:"Form_container__2nz3T",form:"Form_form__1ylUj",canvas:"Form_canvas__kgrin","input-group":"Form_input-group__1BKrJ","input-label":"Form_input-label__4RLsl",input:"Form_input__m2L4O"}}},[[31,1,2]]]);
//# sourceMappingURL=main.04cdcdf7.chunk.js.map